<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Cloud Example</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.rawgit.com/jasondavies/d3-cloud/master/build/d3.layout.cloud.js"></script>
</head>
<body>
    <script>
        // Your data
        const data = [
    {
        "title": "Inception",
        "genre": "Science Fiction",
        "rating": 8.8,
        "releaseYear": 2010
    },
    {
        "title": "The Shawshank Redemption",
        "genre": "Drama",
        "rating": 9.3,
        "releaseYear": 1994
    },
    {
        "title": "The Dark Knight",
        "genre": "Action",
        "rating": 9.0,
        "releaseYear": 2008
    },
    {
        "title": "Pulp Fiction",
        "genre": "Crime",
        "rating": 8.9,
        "releaseYear": 1995
    },
    {
        "title": "The Godfather",
        "genre": "Crime",
        "rating": 9.2,
        "releaseYear": 1980
    },
    {
        "title": "Fight Club",
        "genre": "Drama",
        "rating": 8.8,
        "releaseYear": 1999
    },
    {
        "title": "Forrest Gump",
        "genre": "Drama",
        "rating": 8.8,
        "releaseYear": 1997
    },
    {
        "title": "The Matrix",
        "genre": "Science Fiction",
        "rating": 8.7,
        "releaseYear": 1999
    },
    {
        "title": "Gladiator",
        "genre": "Action",
        "rating": 8.5,
        "releaseYear": 2000
    },
    {
        "title": "Avatar",
        "genre": "Science Fiction",
        "rating": 7.8,
        "releaseYear": 2009
    }
];

        const words = data.map(movie => ({ text: movie.title, size: Math.sqrt(movie.rating) * 20 }));

        const width = 500;
        const height = 500;

        const svg = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", height);

        const layout = d3.layout.cloud()
            .size([width, height])
            .words(words)
            .padding(5)
            .rotate(() => (Math.random() < 0.5 ? 0 : 90))
            .fontSize(d => d.size)
            .on("end", draw);

        layout.start();

        function draw(words) {
            svg.append("g")
                .attr("transform", `translate(${width / 2},${height / 2})`)
                .selectAll("text")
                .data(words)
                .enter().append("text")
                .style("font-size", d => d.size + "px")
                .style("fill", "steelblue")
                .attr("text-anchor", "middle")
                .attr("transform", d => `translate(${d.x},${d.y})rotate(${d.rotate})`)
                .text(d => d.text);
        }
    </script>
</body>
</html>
